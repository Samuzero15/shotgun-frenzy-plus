ACTOR Stocker_Ammo : Ammo
{
	Inventory.Icon "AMMOA0"
	Inventory.Amount 1
	Inventory.MaxAmount 10
	
	Ammo.BackpackAmount 2
	Ammo.BackpackMaxAmount 20
	
	States
	{
		Spawn:
			MEDI A -1
			stop
	}
}

ACTOR Stocker : Weapon
{
	Weapon.AmmoUse 			1
	Weapon.AmmoGive 		8
	Weapon.AmmoType			"Stocker_Ammo"
	Inventory.PickupMessage		"You got the Stocker!"
	Obituary			"Hmmm. That appears to be a bug. I otta fix that somehow..."
	
	Weapon.UpSound			"w/load4"
	Weapon.selectionorder 3000
	States
	{
		Ready:
			W7E1 A 1 A_WeaponReady
			goto Ready
		Deselect:
			W7E1 A 1 A_Lower
			W7E1 A 0 A_Lower
			goto Deselect
		Select:
			W7E1 A 1 A_Raise
			W7E1 A 0 A_Raise
			goto Select
		Fire:
			W7E1 A 0 A_PlaySound("w6/up")
			W7E1 A 3 A_SpawnItem ("ClipBox" , 60, 0, 0, 0)
			W7E1 A 0 A_SpawnItem ("ShellBox" , 70, 0, 0, 0)
			W7E1 A 0 A_SpawnItem ("RocketBox" , 80, 0, 0, 0)
			W7E1 A 0 A_SpawnItem ("CellPack" , 90, 0, 0, 0)
			W7E1 A 3 A_TakeInventory("Stocker_Ammo", 1)
			W7E1 BCDE 5
			W7E1 A 5 A_Refire
			goto Ready
			
		FireRockets:
			TNT1 A 1
		goto lightdone
	}
}